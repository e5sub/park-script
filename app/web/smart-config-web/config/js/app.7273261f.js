(function(e){function a(a){for(var r,n,s=a[0],l=a[1],c=a[2],u=0,p=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&p.push(i[n][0]),i[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(a);while(p.length)p.shift()();return o.push.apply(o,c||[]),t()}function t(){for(var e,a=0;a<o.length;a++){for(var t=o[a],r=!0,s=1;s<t.length;s++){var l=t[s];0!==i[l]&&(r=!1)}r&&(o.splice(a--,1),e=n(n.s=t[0]))}return e}var r={},i={app:0},o=[];function n(a){if(r[a])return r[a].exports;var t=r[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=e,n.c=r,n.d=function(e,a,t){n.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,a){if(1&a&&(e=n(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var r in e)n.d(t,r,function(a){return e[a]}.bind(null,r));return t},n.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(a,"a",a),a},n.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},n.p="/config/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=a,s=s.slice();for(var c=0;c<s.length;c++)a(s[c]);var d=l;o.push([0,"chunk-vendors"]),t()})({0:function(e,a,t){e.exports=t("56d7")},1:function(e,a){},"2c0a":function(e,a,t){},"2e7d":function(e,a,t){},"3ae5":function(e,a,t){"use strict";t("2e7d")},"3e52":function(e,a,t){},4401:function(e,a,t){},"56d7":function(e,a,t){"use strict";t.r(a);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("2b0e"),i=function(){var e=this,a=e._self._c;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],n={name:"mgt-app"},s=n,l=t("2877"),c=Object(l["a"])(s,i,o,!1,null,null,null),d=c.exports,u=(t("a9e3"),t("25eb"),t("b64b"),t("8c4f")),p=function(){var e=this,a=e._self._c;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{height:"100vh","background-color":"#324157"},attrs:{"element-loading-text":e.loadingText,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.45)"}},[a("div",{staticStyle:{width:"350px","padding-top":"calc(50vh - 150px)","padding-left":"calc(50vw - 200px)"}},[a("el-form",{ref:"loginForm",staticClass:"demo-ruleForm login-container",attrs:{model:e.loginForm,rules:e.rules,"label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"title",staticStyle:{"text-align":"center"}},[e._v("系统配置管理登录")]),a("el-form-item",{attrs:{prop:"usrName"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.loginForm.usrName,callback:function(a){e.$set(e.loginForm,"usrName",a)},expression:"loginForm.usrName"}})],1),a("el-form-item",{attrs:{prop:"usrPwd"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.loginForm.usrPwd,callback:function(a){e.$set(e.loginForm,"usrPwd",a)},expression:"loginForm.usrPwd"}})],1),a("el-form-item",[a("drag-verify",{ref:"Verify",attrs:{width:e.width,height:e.height,text:e.text,"success-text":e.successText,background:e.background,"progress-bar-bg":e.progressBarBg,"completed-bg":e.completedBg,"handler-bg":e.handlerBg,"handler-icon":e.handlerIcon1,"success-icon":e.successIcon1,"text-size":e.textSize,circle:e.getShape},on:{passcallback:e.verifyPass}})],1),a("el-form-item",{staticStyle:{width:"100%","margin-top":"1.25rem"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",disabled:e.logining},on:{click:function(a){return e.forLogin("loginForm")}}},[e._v("登录 ")])],1)],1)],1)])},m=[],h=(t("fb6a"),t("e9c4"),t("ac1f"),t("5319"),t("d3b7"),t("25f0"),t("3452")),f=t.n(h);function g(e){return f.a.MD5(e).toString()}function v(e,a){if(e){var t=f.a.enc.Utf8.parse(a),r=f.a.DES.encrypt(e,t,{mode:f.a.mode.ECB,padding:f.a.pad.Pkcs7});return r.ciphertext.toString()}}var b=t("d4ec"),y=t("bee2"),L=(t("d9e2"),t("bc3a")),F=t.n(L),w=t("5c96"),C=t.n(w),x=function(){function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:baseURL;Object(b["a"])(this,e),this.baseUrl=a}return Object(y["a"])(e,[{key:"getInsideConfig",value:function(){if($cookies.isKey("jwt_token")){var e=$cookies.get("jwt_token"),a={baseURL:this.baseUrl,headers:{"Content-Type":"application/json;charset=UTF-8",token:e}};return a}var t={baseURL:this.baseUrl,headers:{"Content-Type":"application/json;charset=UTF-8"}};return t}},{key:"interceptors",value:function(e,a){e.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),e.interceptors.response.use((function(e){e.data,e.status;if(9004===e.data.code||9005===e.data.code){var a="登录已过期，请重新登录";return 9005===e.data.code&&(a="账号已在其它地方登录，如非本人操作，请尽快修改密码"),w["MessageBox"].alert(a,"提示信息",{confirmButtonText:"确定",callback:function(e){Sa.replace({name:"login"})}}),Promise.reject(new Error(e.data.msg))}return e.data}),(function(e){return Promise.reject(e)}))}},{key:"request",value:function(e){var a=F.a.create();return e=Object.assign(this.getInsideConfig(),e),this.interceptors(a,e.url),a(e)}}]),e}(),_=x,N={title:"系统配置管理台",cookieExpires:0,baseUrl:{dev:"/prod-api/cfg-service/",pro:"/prod-api/cfg-service/"}},k=N.baseUrl.pro,T=new _(k),S=T,$=function(e){return S.request({url:"user/login",data:e,method:"post"})},q=function(){return S.request({url:"user/logout",method:"post"})},I=function(e){var a=e.oldPwd,t=e.newPwd1,r=e.newPwd2,i={oldPwd:a,newPwd1:t,newPwd2:r};return S.request({url:"user/pwd",data:i,method:"post"})},P=t("5a49"),A=t.n(P),U={components:{dragVerify:A.a},data:function(){return{logining:!0,loginForm:{usrName:"",usrPwd:""},rules:{usrName:[{required:!0,message:"请输入账号",trigger:"blur"},{min:3,max:20,message:"账号长度在3 到 20 字符之间",trigger:"blur"}],usrPwd:[{required:!0,message:"请输入密码",trigger:"blur"}]},loadingText:"登录中",fullscreenLoading:!1,checked:!0,handlerIcon:"fa fa-angle-double-right",successIcon:"fa fa-check",background:"#cccccc",progressBarBg:"#FFFF99",completedBg:"#66cc66",handlerBg:"#409EFF",handlerIcon1:"el-icon-d-arrow-right",successIcon1:"el-icon-check",text:"请拖动到右侧验证",successText:"验证成功",width:350,height:40,textSize:"16px",isCircle:"false"}},computed:{getShape:function(){return"true"===this.isCircle}},methods:{verifyPass:function(){this.logining=!1},forLogin:function(e){var a=this;this.$refs[e].validate((function(e){if(e){a.fullscreenLoading=!0;var t=a.loginForm.usrName,r=a.loginForm.usrPwd,i=g(r),o=i.slice(16),n=t+"#"+i,s=v(n,o);$({userName:t,password:s}).then((function(e){if(0==e.code){var t={userId:e.data.userId,userName:e.data.userName,realName:e.data.realName};$cookies.set("jwt_token",e.data.token,N.cookieExpires),$cookies.set("jwt_usr",JSON.stringify(t),N.cookieExpires),a.$router.replace({name:"home"})}else a.$alert(e.msg,"登录失败",{confirmButtonText:"确定",callback:function(e){a.$router.go(0)}});a.fullscreenLoading=!1})).catch((function(e){console.error("登录异常",e),a.fullscreenLoading=!1}))}}))}},mounted:function(){$cookies.remove("jwt_token"),$cookies.remove("jwt_usr"),$cookies.remove("jwt_auth")}},M=U,O=(t("ba6c"),Object(l["a"])(M,p,m,!1,null,null,null)),z=O.exports,D=(t("b0c0"),function(){var e=this,a=e._self._c;return a("div",[a("el-container",[a("el-header",{staticClass:"header",staticStyle:{height:"50px"}},[a("span",{staticStyle:{color:"#FFFFFF","font-size":"1.125rem"}},[e._v(e._s(e.title))]),a("span",{staticStyle:{float:"right",color:"#FFFFFF","font-size":"small"}},[a("span",[a("i",{staticClass:"el-icon-s-home",on:{click:function(a){return e.home()}}},[e._v(" "),a("a",{attrs:{href:"javascript:void(0)"}},[a("span",{staticStyle:{float:"right",color:"#FFFFFF","font-size":"small"}},[e._v("首页")])])]),e._v("      ")]),a("el-dropdown",{on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link",staticStyle:{color:"#FFFFFF","font-size":"small"}},[a("i",{staticClass:"el-icon-user-solid"}),e._v(" "+e._s(e.usrName)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"}),e._v("       ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"2"}},[e._v("修改密码")]),a("el-dropdown-item",{attrs:{command:"3"}},[e._v("退出登录")])],1)],1),a("span",[a("a",{attrs:{href:"javascipt:void(0)"}},[a("span",{staticStyle:{float:"right",color:"#FFFFFF","font-size":"small"}},[a("i",{class:e.fullscreenStyle,on:{click:function(a){return e.handleFullScreen()}}},[e._v(" "+e._s(e.fullscreenText))]),e._v(" ")])])])],1)]),a("el-container",[a("el-aside",{staticClass:"comm-aside",attrs:{width:"210px"}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.$route.meta.menu,"background-color":"#324157","text-color":"#fff","active-text-color":"#409EFF","unique-opened":"",router:""}},[e._l(e.menuList,(function(t,r){return 1===t.auth?[1===t.auth?a("el-submenu",{key:r,attrs:{index:t.index}},[a("template",{slot:"title"},[a("i",{class:t.style}),a("span",[e._v(e._s(t.name))])]),a("el-menu-item-group",[e._l(t.items,(function(t,r){return 1===t.auth?[1===t.type?a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:1===t.show,expression:"item.show===1"}],key:r,attrs:{index:t.index,route:{name:t.route}}},[e._v(e._s(t.name))]):a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:1===t.show,expression:"item.show===1"}],key:r,attrs:{index:t.index},on:{click:function(a){return e.menuHandle(t.param)}}},[e._v(e._s(t.name))])]:e._e()}))],2)],2):e._e()]:e._e()}))],2)],1),a("el-container",[a("el-main",{staticClass:"comm-main"},[a("el-breadcrumb",{staticStyle:{"margin-bottom":"10px"},attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v(" "+e._s(e.$route.meta.ptitle))]),a("el-breadcrumb-item",[e._v(e._s(e.$route.meta.title))])],1),a("router-view")],1)],1)],1)],1)],1)}),j=[],B=(t("14d9"),[{name:"系统设置",index:"adm_2",style:"el-icon-setting",auth:0,items:[{name:"系统信息",index:"adm_3_2",type:1,route:"sysInfoList",auth:0,show:1},{name:"系统参数",index:"adm_3_1",type:1,route:"paramList",auth:0,show:1},{name:"接口【管理端】",index:"adm_3_3",type:1,route:"apiAdmList",auth:0,show:1},{name:"接口【运营端】",index:"adm_3_4",type:1,route:"apiOptList",auth:0,show:1},{name:"接口【用户端】",index:"adm_3_5",type:1,route:"apiCusList",auth:0,show:1},{name:"接口【门户端】",index:"adm_3_6",type:1,route:"apiEipList",auth:0,show:1},{name:"首页",index:"adm_0_1",type:1,route:"home",auth:1,show:0}]},{name:"个人中心",index:"adm_1",style:"el-icon-user",auth:1,items:[{name:"修改密码",index:"adm_1_2",type:1,route:"pwdupd",auth:0,show:1},{name:"退出登录",index:"adm_1_1",type:0,param:1,auth:0,show:1}]}]),V={data:function(){return{title:N.title,usrName:"",menuList:[],collapsed:!1,fullscreen:!1,fullscreenStyle:"el-icon-full-screen",fullscreenText:"开启全屏"}},created:function(){this.indexInit()},methods:{collapse:function(){this.collapsed=!this.collapsed},handleFullScreen:function(){var e=document.documentElement;this.fullscreen?(document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),this.fullscreenStyle="el-icon-full-screen",this.fullscreenText="开启全屏"):(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen(),this.fullscreenStyle="el-icon-rank",this.fullscreenText="取消全屏"),this.fullscreen=!this.fullscreen},indexInit:function(){var e=$cookies.get("jwt_usr");this.usrName=e.realName;for(var a=B,t=0;t<B.length;t++)for(var r=0;r<B[t].items.length;r++)a[t].auth=1,a[t].items[r].auth=1;this.menuList=a},menuHandle:function(e){1===e&&this.forLogout()},home:function(){this.$router.push({name:"home"})},forLogout:function(){var e=this;q().then((function(a){0==a.errCode?$cookies.remove("jwt_token"):console.error("退出失败",a.errMsg),e.$router.replace({name:"login"})})).catch((function(a){console.error("登录异常",a),e.$router.replace({name:"login"})}))},handleCommand:function(e){switch(e){case"1":break;case"2":this.$router.replace({name:"pwdupd"});break;case"3":this.forLogout();break}}},mounted:function(){}},R=V,E=(t("fca1"),Object(l["a"])(R,D,j,!1,null,null,null)),G=E.exports,J=function(){var e=this,a=e._self._c;return a("div",{staticClass:"main"},[a("el-card",{staticClass:"box-card"},[a("span",{staticClass:"box-span"},[e._v("欢迎使用"+e._s(e.homeContent))])])],1)},W=[],H={data:function(){return{homeContent:N.title}}},K=H,Q=(t("e3cc"),Object(l["a"])(K,J,W,!1,null,null,null)),X=Q.exports,Y=function(){var e=this,a=e._self._c;return a("div",{staticStyle:{"margin-top":"1.875rem"}},[a("el-col",{attrs:{span:12}},[a("el-form",{ref:"updForm",attrs:{model:e.updForm,rules:e.rules,"label-width":"100px",size:"medium"}},[a("el-form-item",{attrs:{label:"原密码",prop:"oldPwd"}},[a("el-input",{attrs:{"auto-complete":"off","show-password":""},model:{value:e.updForm.oldPwd,callback:function(a){e.$set(e.updForm,"oldPwd",a)},expression:"updForm.oldPwd"}})],1),a("el-form-item",{attrs:{label:"新密码",prop:"newPwd1"}},[a("el-input",{attrs:{"auto-complete":"off","show-password":""},model:{value:e.updForm.newPwd1,callback:function(a){e.$set(e.updForm,"newPwd1",a)},expression:"updForm.newPwd1"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"newPwd2"}},[a("el-input",{attrs:{"auto-complete":"off","show-password":""},model:{value:e.updForm.newPwd2,callback:function(a){e.$set(e.updForm,"newPwd2",a)},expression:"updForm.newPwd2"}})],1),a("el-form-item",[a("el-button",{on:{click:e.handleReset}},[e._v("重置")]),a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.dataUpd("updForm")}}},[e._v("提交")])],1)],1)],1)],1)},Z=[],ee={login:"adm_0_1",logout:"adm_1_1",pwdUpd:"adm_1_2",dictList:"adm_2_1",paramList:"adm_3_1",paramGet:"adm_3_2",paramAdd:"adm_3_3",paramUpd:"adm_3_4",paramDel:"adm_3_5"},ae={data:function(){var e=this,a=function(a,t,r){t!==e.updForm.newPwd1?r(new Error("两次输入密码不一致!")):r()};return{updForm:{oldPwd:"",newPwd1:"",newPwd2:""},rules:{oldPwd:[{required:!0,message:"请输入原密码",trigger:"blur"},{min:6,max:20,message:"密码长度在6 到 20 个字符之间",trigger:"blur"}],newPwd1:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:20,message:"密码长度必须在6 到 20 个字符之间",trigger:"blur"}],newPwd2:[{required:!0,message:"请再次输入新密码",trigger:"blur"},{min:6,max:20,message:"密码长度必须在6 到 20 个字符之间",trigger:"blur"},{validator:a,trigger:"blur"}]},auths:{upd:!0}}},created:function(){},methods:{handleReset:function(){this.$refs.updForm.resetFields()},dataUpd:function(e){var a=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;a.$confirm("您确认要修改密码?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){I(a.updForm).then((function(e){0==e.code?(a.$message({type:"success",message:"密码修改成功!"}),a.$refs.updForm.resetFields()):a.$message({type:"error",message:e.msg})})).catch((function(e){console.error("请求异常",e)}))})).catch((function(){a.$message({type:"info",message:"已取消密码修改"})}))}))}}},te=ae,re=Object(l["a"])(te,Y,Z,!1,null,null,null),ie=re.exports,oe=function(){var e=this,a=e._self._c;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.dataLoading,expression:"dataLoading"}],attrs:{"element-loading-text":e.dataLoadingText,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.6)"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"margin-bottom":"1.25rem","margin-top":"1.25rem"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,size:"mini",onsubmit:"return false"}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入参数编码查询"},model:{value:e.paramCode,callback:function(a){e.paramCode=a},expression:"paramCode"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"warning"},on:{click:function(a){return e.query()}}},[e._v("查询")]),a("el-button",{attrs:{type:"success"},on:{click:function(a){return e.refresh()}}},[e._v("刷新缓存")])],1)],1)],1),a("el-table",{staticStyle:{width:"98%"},attrs:{data:e.pageDatas}},[a("el-table-column",{attrs:{prop:"paramCode",label:"参数编码","min-width":"120"}}),a("el-table-column",{attrs:{prop:"paramValue",label:"参数值","min-width":"230"}}),a("el-table-column",{attrs:{prop:"paramName",label:"参数名称","min-width":"120"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注说明","min-width":"120"}}),a("el-table-column",{attrs:{label:"参数类型","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(" "+e._s(1===a.row.paramType?"可编辑":"仅查看")+" ")]}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.paramType?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.dataUpd(t.row.id)}}},[e._v("编辑")]):e._e()]}}])})],1),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right",margin:"0.625rem"},attrs:{background:"",layout:"prev, pager, next",total:e.rowCount,"page-size":e.pageSize,"hide-on-single-page":""},on:{"current-change":e.handlePageChange}})],1)],1)},ne=[],se=function(e){return S.request({url:"params/list",data:e,method:"post"})},le=function(e){return S.request({url:"params/get",params:e,method:"get"})},ce=function(e){return S.request({url:"params/code",params:e,method:"get"})},de=function(e){return S.request({url:"params/add",data:e,method:"post"})},ue=function(e){return S.request({url:"params/edit",data:e,method:"post"})},pe=function(e){return S.request({url:"params/del",data:e,method:"post"})},me=function(){return S.request({url:"params/refresh",method:"post"})},he={data:function(){return{dataLoading:!1,dataLoadingText:"拼命加载中",pageDatas:[],rowCount:0,pageCount:1,pageSize:10,pageNum:1,paramCode:"",auths:{add:!1,upd:!1,del:!1}}},created:function(){var e=this;document.onkeydown=function(a){var t=window.event.keyCode;13==t&&e.dataList()},this.dataList()},methods:{dataList:function(){var e=this,a=this.pageNum,t=this.pageSize,r=this.paramCode;this.dataLoading=!0,se({pageSize:t,pageNum:a,paramCode:r}).then((function(a){0==a.code?(e.rowCount=a.data.total,e.pageCount=a.data.page,e.pageDatas=a.data.items):console.error("查询失败",a.errMsg),e.dataLoading=!1})).catch((function(a){console.error("请求异常",a),e.dataLoading=!1}))},dataDel:function(e){var a=this;this.$confirm("此操作将永久删除该参数, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){pe(e).then((function(e){0==e.errCode?(a.$message({type:"success",message:"删除成功!"}),a.dataList()):a.$message({type:"success",message:e.errMsg})})).catch((function(e){console.error("请求异常",e)}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},add:function(){this.$router.push({name:"paramAdd"})},dataUpd:function(e){this.$router.push({name:"paramUpd",params:{id:e}})},refresh:function(){var e=this;e.$confirm("您确认刷新缓存?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.dataLoadingText="缓存刷新中",e.dataLoading=!0,me().then((function(a){0==a.code?setTimeout((function(){e.dataLoading=!1,e.dataLoadingText="拼命加载中"}),3e3):(console.error("请求失败",a.errMsg),e.dataLoading=!1,e.dataLoadingText="拼命加载中")})).catch((function(a){console.error("请求异常",a),e.dataLoading=!1,e.dataLoadingText="拼命加载中"}))})).catch((function(){e.$message({type:"info",message:"已取消刷新缓存"}),e.dataLoadingText="拼命加载中"}))},query:function(){this.pageNum=1,this.dataList()},handlePageChange:function(e){this.pageNum=e,this.dataList()}}},fe=he,ge=Object(l["a"])(fe,oe,ne,!1,null,null,null),ve=ge.exports,be=function(){var e=this,a=e._self._c;return a("div",{staticStyle:{"margin-top":"1.875rem"}},[a("el-col",{attrs:{span:12}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px",size:"medium"}},[a("el-form-item",{attrs:{label:"参数编码",prop:"code"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.code,callback:function(a){e.$set(e.addForm,"code",a)},expression:"addForm.code"}})],1),a("el-form-item",{attrs:{label:"参数值",prop:"value"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.value,callback:function(a){e.$set(e.addForm,"value",a)},expression:"addForm.value"}})],1),a("el-form-item",{attrs:{label:"参数说明"}},[a("el-input",{attrs:{type:"textarea",maxlength:"100",autosize:{minRows:2},"show-word-limit":""},model:{value:e.addForm.remark,callback:function(a){e.$set(e.addForm,"remark",a)},expression:"addForm.remark"}})],1),a("el-form-item",[a("el-button",{on:{click:function(a){return e.back()}}},[e._v("取消")]),e.auths.add?a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.dataAdd("addForm")}}},[e._v("提交")]):e._e()],1)],1)],1)],1)},ye=[],Le=(t("caad"),t("2532"),{data:function(){return{addForm:{code:"",value:"",remark:""},rules:{code:[{required:!0,message:"请输入参数编码",trigger:"blur"}],value:[{required:!0,message:"请输入参数值",trigger:"blur"}]},auths:{add:!1}}},created:function(){this.authInit()},methods:{authInit:function(){var e=$cookies.get("jwt_auth"),a=JSON.parse(e);a.includes(ee.paramAdd)&&(this.auths.add=!0)},back:function(){this.$router.go(-1)},dataAdd:function(e){var a=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;a.$confirm("您确认要新增该参数?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){de(a.addForm).then((function(e){0==e.errCode?(a.$message({type:"success",message:"新增参数成功!"}),a.$router.push({name:"paramList"})):a.$message({type:"error",message:e.errMsg})})).catch((function(e){console.error("请求异常",e)}))})).catch((function(){a.$message({type:"info",message:"已取消新增"})}))}))}}}),Fe=Le,we=Object(l["a"])(Fe,be,ye,!1,null,null,null),Ce=we.exports,xe=function(){var e=this,a=e._self._c;return a("div",{staticStyle:{"margin-top":"1.875rem"}},[a("el-col",{attrs:{span:12}},[a("el-form",{ref:"updForm",attrs:{model:e.updForm,rules:e.rules,"label-width":"80px",size:"medium"}},[a("el-form-item",{attrs:{label:"参数编码",prop:"paramCode"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:!0},model:{value:e.updForm.paramCode,callback:function(a){e.$set(e.updForm,"paramCode",a)},expression:"updForm.paramCode"}})],1),a("el-form-item",{attrs:{label:"参数值",prop:"paramValue"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.updForm.paramValue,callback:function(a){e.$set(e.updForm,"paramValue",a)},expression:"updForm.paramValue"}})],1),a("el-form-item",{attrs:{label:"参数名称"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.updForm.paramName,callback:function(a){e.$set(e.updForm,"paramName",a)},expression:"updForm.paramName"}})],1),a("el-form-item",{attrs:{label:"参数说明"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.updForm.remark,callback:function(a){e.$set(e.updForm,"remark",a)},expression:"updForm.remark"}})],1),a("el-form-item",[a("el-button",{on:{click:function(a){return e.back()}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.dataUpd("updForm")}}},[e._v("提交")])],1)],1)],1)],1)},_e=[],Ne={data:function(){return{updForm:{id:"",paramCode:"",paramValue:"",paramName:"",remark:""},rules:{code:[{required:!0,message:"请输入参数编码",trigger:"blur"}],value:[{required:!0,message:"请输入参数值",trigger:"blur"}]}}},created:function(){this.$route.params.id?this.updForm.id=this.$route.params.id:this.$router.replace({name:"paramList"}),this.dataGet()},methods:{back:function(){this.$router.go(-1)},dataGet:function(){var e=this;le({id:this.updForm.id}).then((function(a){0==a.code?(e.updForm.paramCode=a.data.paramCode,e.updForm.paramValue=a.data.paramValue,e.updForm.paramName=a.data.paramName,e.updForm.remark=a.data.remark):console.error("查询失败",a.errMsg)})).catch((function(e){console.error("请求异常",e)}))},dataUpd:function(e){var a=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;a.$confirm("您确认要修改该参数?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){ue(a.updForm).then((function(e){0==e.code?(a.$message({type:"success",message:"修改参数成功!"}),a.$router.push({name:"paramList"})):a.$message({type:"error",message:e.msg})})).catch((function(e){console.error("请求异常",e)}))})).catch((function(){a.$message({type:"info",message:"已取消修改"})}))}))}}},ke=Ne,Te=Object(l["a"])(ke,xe,_e,!1,null,null,null),Se=Te.exports,$e=function(){var e=this,a=e._self._c;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.dataLoading,expression:"dataLoading"}],attrs:{"element-loading-text":e.dataLoadingText,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.6)"}},[a("el-row",[a("el-col",{staticClass:"toolbar",staticStyle:{"margin-bottom":"1.25rem","margin-top":"1.25rem"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,size:"mini",onsubmit:"return false"}},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"--所属微服务--"},on:{change:e.query},model:{value:e.queryForm.serviceCode,callback:function(a){e.$set(e.queryForm,"serviceCode",a)},expression:"queryForm.serviceCode"}},e._l(e.serviceCodeList,(function(e){return a("el-option",{key:e.serviceCode,attrs:{label:e.serviceName+(null!=e.serviceCode?" | "+e.serviceCode:""),value:e.serviceCode}})})),1)],1),a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"--接口来源--"},on:{change:e.query},model:{value:e.queryForm.apiSource,callback:function(a){e.$set(e.queryForm,"apiSource",a)},expression:"queryForm.apiSource"}},e._l(e.apiSourceList,(function(e){return a("el-option",{key:e.apiSource,attrs:{label:e.apiSourceName,value:e.apiSource}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"warning"},on:{click:function(a){return e.query()}}},[e._v("查询")])],1),a("el-form-item",[a("ApiDialogAdd",{attrs:{"api-type":1,"api-level":0,type:"primary"},on:{finish:e.addFinish}})],1),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:function(a){return e.refresh()}}},[e._v("刷新缓存")])],1)],1)],1)],1),a("el-row",[a("el-col",[a("span",{staticStyle:{"font-size":"0.8125rem"}},[e._v("环境说明：开发环境：dev-api, 测试环境：uat-api, 生产环境：prod-api")])])],1),a("el-row",[a("el-col",[a("span",{staticStyle:{"font-size":"0.8125rem"}},[e._v("接口方式：http(s)://domain/${环境}/adm-service/${微服务编码}/${接口Url}")])])],1),a("el-row",{staticStyle:{"margin-bottom":"1.25rem"}},[a("el-col",[a("span",{staticStyle:{"font-size":"0.8125rem"}},[e._v("接口样例：https://api.test.com/dev-api/adm-service/system/test/list")])])],1),a("el-table",{staticStyle:{width:"98%"},attrs:{data:e.pageDatas,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"apiModel",label:"接口模块","min-width":"160"}}),a("el-table-column",{attrs:{prop:"apiCode",label:"权限码","min-width":"180"}}),a("el-table-column",{attrs:{prop:"apiLabel",label:"接口名称","min-width":"160"}}),a("el-table-column",{attrs:{prop:"apiPath",label:"接口URL","min-width":"180"}}),a("el-table-column",{attrs:{label:"授权方式","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.apiLevel?a("div",[e._v("-")]):0===t.row.authType?a("div",[e._v("开放访问")]):1===t.row.authType?a("div",[e._v("登录即有")]):a("div",[e._v("授权即有")])]}}])}),a("el-table-column",{attrs:{prop:"serviceLabel",label:"微服务(名称|编码)","min-width":"160"}}),a("el-table-column",{attrs:{label:"接口来源","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.apiSource?a("div",[e._v("物业")]):2===t.row.apiSource?a("div",[e._v("设备")]):a("div",[e._v("-")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("ApiDialogUpd",{attrs:{params:t.row},on:{finish:e.updFinish}}),e._v("   "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.dataDel(t.row)}}},[a("span",{staticClass:"color-danger"},[e._v("删除")])]),e._v("   "),0==t.row.apiLevel?a("ApiDialogAdd",{attrs:{params:t.row,"api-type":1,"api-level":1,type:"text",size:"small"},on:{finish:e.addFinish}}):e._e()]}}])})],1),a("br"),a("br"),a("br")],1)},qe=[],Ie=(t("99af"),t("4ec9"),t("3ca3"),t("159b"),t("ddb0"),function(e){return S.request({url:"sysapi/list",data:e,method:"post"})}),Pe=function(e){return S.request({url:"sysapi/msList",data:e,method:"post"})},Ae=function(e){return S.request({url:"sysapi/get",params:e,method:"get"})},Ue=function(e){return S.request({url:"sysapi/add",data:e,method:"post"})},Me=function(e){return S.request({url:"sysapi/edit",data:e,method:"post"})},Oe=function(e){return S.request({url:"sysapi/del",data:e,method:"post"})},ze=function(){return S.request({url:"sysapi/refresh",method:"post"})},De=function(){var e=this,a=e._self._c;return a("span",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.dataLoading,expression:"dataLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{"element-loading-text":e.dataLoadingText,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.45)"}},[a("el-dialog",{attrs:{title:e.dataOpeTitle,visible:e.visible,"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":!0},on:{"update:visible":function(a){e.visible=a}}},[a("div",{staticClass:"el-dialog-div"},[a("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.rules,"label-width":e.formLabelWidth,size:"small"}},[a("el-form-item",{attrs:{label:e.dataFormTitle.apiName,prop:"apiName"}},[a("el-input",{attrs:{maxlength:"32",placeholder:"请输入名称"},model:{value:e.dataForm.apiName,callback:function(a){e.$set(e.dataForm,"apiName",a)},expression:"dataForm.apiName"}})],1),a("el-form-item",{attrs:{label:e.dataFormTitle.apiCode,prop:"apiCode"}},[a("el-input",{attrs:{maxlength:"32",placeholder:"请输入编码"},model:{value:e.dataForm.apiCode,callback:function(a){e.$set(e.dataForm,"apiCode",a)},expression:"dataForm.apiCode"}})],1),1==e.apiLevel?[a("el-form-item",{attrs:{label:"接口URL",prop:"apiPath"}},[a("el-input",{attrs:{maxlength:"64",placeholder:"请输入接口URL"},model:{value:e.dataForm.apiPath,callback:function(a){e.$set(e.dataForm,"apiPath",a)},expression:"dataForm.apiPath"}})],1),a("el-form-item",{attrs:{label:"授权方式",prop:"authType"}},[a("el-select",{attrs:{placeholder:"--授权方式--"},model:{value:e.dataForm.authType,callback:function(a){e.$set(e.dataForm,"authType",a)},expression:"dataForm.authType"}},e._l(e.authTypeList,(function(e){return a("el-option",{key:e.authType,attrs:{label:e.authName,value:e.authType}})})),1)],1)]:e._e(),a("el-form-item",{attrs:{label:"接口来源",prop:"apiSource"}},[a("el-select",{attrs:{placeholder:"--接口来源--",disabled:e.disabled},model:{value:e.dataForm.apiSource,callback:function(a){e.$set(e.dataForm,"apiSource",a)},expression:"dataForm.apiSource"}},e._l(e.apiSourceList,(function(e){return a("el-option",{key:e.apiSource,attrs:{label:e.apiSourceName,value:e.apiSource}})})),1)],1),1==e.apiLevel?[a("el-form-item",{attrs:{label:"所属模块",prop:"parentName"}},[a("el-input",{attrs:{maxlength:"32",placeholder:"请输入父级名称",disabled:""},model:{value:e.dataForm.parentName,callback:function(a){e.$set(e.dataForm,"parentName",a)},expression:"dataForm.parentName"}})],1)]:e._e(),a("el-form-item",{attrs:{label:"服务编码",prop:"serviceCode"}},[a("el-input",{attrs:{maxlength:"32",placeholder:"请输入服务编码",disabled:e.disabled},model:{value:e.dataForm.serviceCode,callback:function(a){e.$set(e.dataForm,"serviceCode",a)},expression:"dataForm.serviceCode"}})],1),a("el-form-item",{attrs:{label:"服务名称",prop:"serviceName"}},[a("el-input",{attrs:{maxlength:"32",placeholder:"请输入服务名称",disabled:e.disabled},model:{value:e.dataForm.serviceName,callback:function(a){e.$set(e.dataForm,"serviceName",a)},expression:"dataForm.serviceName"}})],1)],2)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium"},on:{click:function(a){return e.back()}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(a){return e.dataAdd()}}},[e._v("提交")])],1)]),a("el-button",{attrs:{type:e.type,size:e.size},on:{click:function(a){return e.open()}}},[1==e.apiLevel?a("span",{staticClass:"color-success"},[e._v("新增接口")]):a("span",[e._v("新增模块")])])],1)},je=[],Be={name:"ApiAdmDialogAdd",props:{params:{type:Object,default:function(){return{parentId:"0",apiSource:1}}},apiLevel:{type:Number,default:1},apiType:{type:Number,default:1},type:{type:String,default:"text"},size:{type:String,default:""}},data:function(){return{visible:!1,disabled:!1,dataFormTitle:{apiName:"接口名称",apiCode:"权限码",serviceCode:"微服务编码",serviceName:"微服务名称"},dataForm:{apiCode:"",apiLevel:0,apiName:"",apiPath:"-",apiType:1,apiSource:1,authType:2,parentId:"0",parentName:"-",serviceCode:"",serviceName:""},rules:{apiCode:[{required:!0,message:"请输入编码",trigger:"blur"}],apiName:[{required:!0,message:"请输入名称",trigger:"blur"}],apiPath:[{required:!0,message:"请输入接口URL",trigger:"blur"}],authType:[{required:!0,message:"请选择授权方式",trigger:["blur","change"]}],apiSource:[{required:!0,message:"请选择接口来源",trigger:["blur","change"]}],serviceCode:[{required:!0,message:"请输入服务编码",trigger:"blur"}],serviceName:[{required:!0,message:"请输入服务名称",trigger:"blur"}]},authTypeList:[{authType:0,authName:"开放访问"},{authType:1,authName:"登录即有"},{authType:2,authName:"授权即有"}],apiSourceList:[{apiSource:1,apiSourceName:"物业"},{apiSource:2,apiSourceName:"设备"}],formLabelWidth:"80px",dataOpeTitle:"新增接口",dataLoading:!1,dataLoadingText:"拼命加载中"}},computed:{},created:function(){},methods:{back:function(){this.visible=!1},open:function(){0==this.apiLevel?(this.dataOpeTitle="新增模块",this.dataFormTitle.apiCode="模块编码",this.dataFormTitle.apiName="模块名称",this.dataForm.parentId="0",this.dataForm.parentName="-",this.dataForm.apiPath="-",this.dataForm.serviceCode="",this.dataForm.serviceName="",this.disabled=!1):(this.dataOpeTitle="新增接口",this.dataFormTitle.apiCode="权限码",this.dataFormTitle.apiName="接口名称",this.dataForm.apiPath="",this.dataForm.apiSource=this.params.apiSource,this.dataForm.parentId=this.params.id,this.dataForm.parentName=this.params.apiName,this.dataForm.serviceCode=this.params.serviceCode,this.dataForm.serviceName=this.params.serviceName,this.disabled=!0),this.dataForm.authType=2,this.dataForm.apiType=this.apiType,this.dataForm.apiLevel=this.apiLevel,this.visible=!0,void 0!==this.$refs.dataForm&&this.$refs.dataForm.resetFields()},dataAdd:function(){var e=this,a=this;a.$refs["dataForm"].validate((function(t){if(!t)return!1;a.$confirm("您确认要"+a.dataOpeTitle+"?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.dataLoading=!0,Ue(a.dataForm).then((function(t){0==t.code?(a.$message({type:"success",message:a.dataOpeTitle+"成功!"}),a.visible=!1,e.$emit("finish")):a.$message({type:"error",message:t.msg}),a.dataLoading=!1})).catch((function(e){a.$message({type:"warning",message:"请求失败"}),a.dataLoading=!1}))})).catch((function(){a.$message({type:"info",message:"已取消新增"})}))}))}}},Ve=Be,Re=(t("3ae5"),Object(l["a"])(Ve,De,je,!1,null,null,null)),Ee=Re.exports,Ge=function(){var e=this,a=e._self._c;return a("span",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.dataLoading,expression:"dataLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{"element-loading-text":e.dataLoadingText,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.45)"}},[a("el-dialog",{attrs:{title:e.dataOpeTitle,visible:e.visible,"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":!0},on:{"update:visible":function(a){e.visible=a}}},[a("div",{staticClass:"el-dialog-div"},[a("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.rules,"label-width":e.formLabelWidth,size:"small"}},[a("el-form-item",{attrs:{label:e.dataFormTitle.apiName,prop:"apiName"}},[a("el-input",{attrs:{maxlength:"32",placeholder:"请输入名称"},model:{value:e.dataForm.apiName,callback:function(a){e.$set(e.dataForm,"apiName",a)},expression:"dataForm.apiName"}})],1),a("el-form-item",{attrs:{label:e.dataFormTitle.apiCode,prop:"apiCode"}},[a("el-input",{attrs:{maxlength:"32",placeholder:"请输入编码"},model:{value:e.dataForm.apiCode,callback:function(a){e.$set(e.dataForm,"apiCode",a)},expression:"dataForm.apiCode"}})],1),1==e.params.apiLevel?[a("el-form-item",{attrs:{label:"接口URL",prop:"apiPath"}},[a("el-input",{attrs:{maxlength:"64",placeholder:"请输入接口URL"},model:{value:e.dataForm.apiPath,callback:function(a){e.$set(e.dataForm,"apiPath",a)},expression:"dataForm.apiPath"}})],1),a("el-form-item",{attrs:{label:"授权方式",prop:"authType"}},[a("el-select",{attrs:{placeholder:"--授权方式--"},model:{value:e.dataForm.authType,callback:function(a){e.$set(e.dataForm,"authType",a)},expression:"dataForm.authType"}},e._l(e.authTypeList,(function(e){return a("el-option",{key:e.authType,attrs:{label:e.authName,value:e.authType}})})),1)],1)]:e._e(),a("el-form-item",{attrs:{label:"接口来源",prop:"apiSource"}},[a("el-select",{attrs:{placeholder:"--接口来源--",disabled:""},model:{value:e.params.apiSource,callback:function(a){e.$set(e.params,"apiSource",a)},expression:"params.apiSource"}},e._l(e.apiSourceList,(function(e){return a("el-option",{key:e.apiSource,attrs:{label:e.apiSourceName,value:e.apiSource}})})),1)],1),1==e.apiLevel?[a("el-form-item",{attrs:{label:"所属模块",prop:"parentName"}},[a("el-input",{attrs:{maxlength:"32",placeholder:"请输入父级名称",disabled:""},model:{value:e.params.parentName,callback:function(a){e.$set(e.params,"parentName",a)},expression:"params.parentName"}})],1)]:e._e(),a("el-form-item",{attrs:{label:"服务编码",prop:"serviceCode"}},[a("el-input",{attrs:{maxlength:"32",placeholder:"请输入微服务编码",disabled:e.disabled},model:{value:e.dataForm.serviceCode,callback:function(a){e.$set(e.dataForm,"serviceCode",a)},expression:"dataForm.serviceCode"}})],1),a("el-form-item",{attrs:{label:"服务名称",prop:"serviceName"}},[a("el-input",{attrs:{maxlength:"32",placeholder:"请输入微服务名称",disabled:e.disabled},model:{value:e.dataForm.serviceName,callback:function(a){e.$set(e.dataForm,"serviceName",a)},expression:"dataForm.serviceName"}})],1)],2)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium"},on:{click:function(a){return e.back()}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(a){return e.dataUpd()}}},[e._v("提交")])],1)]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.open()}}},[a("span",{staticClass:"color-primary"},[e._v("编辑")])])],1)},Je=[],We={name:"ApiAdmDialogUpd",props:{params:{type:Object,default:function(){return{id:"",parentName:"-",apiLevel:0,apiSource:1}}}},data:function(){return{visible:!1,disabled:!1,dataFormTitle:{apiName:"接口名称",apiCode:"权限码",serviceCode:"微服务编码",serviceName:"微服务名称"},dataForm:{id:"",apiCode:"",apiName:"",apiPath:"-",authType:2,serviceCode:"",serviceName:""},rules:{apiCode:[{required:!0,message:"请输入编码",trigger:"blur"}],apiName:[{required:!0,message:"请输入名称",trigger:"blur"}],apiPath:[{required:!0,message:"请输入接口URL",trigger:"blur"}],authType:[{required:!0,message:"请选择授权方式",trigger:["blur","change"]}],serviceCode:[{required:!0,message:"请输入服务编码",trigger:"blur"}],serviceName:[{required:!0,message:"请输入服务名称",trigger:"blur"}]},authTypeList:[{authType:0,authName:"开放访问"},{authType:1,authName:"登录即有"},{authType:2,authName:"授权即有"}],apiSourceList:[{apiSource:1,apiSourceName:"物业"},{apiSource:2,apiSourceName:"设备"}],formLabelWidth:"80px",dataOpeTitle:"修改接口",dataLoading:!1,dataLoadingText:"拼命加载中"}},computed:{},created:function(){},methods:{back:function(){this.visible=!1},open:function(){this.visible=!0,this.dataForm.id=this.params.id,this.dataForm.apiCode=this.params.apiCode,this.dataForm.apiName=this.params.apiName,this.dataForm.apiPath=this.params.apiPath,this.dataForm.authType=this.params.authType,this.dataForm.serviceCode=this.params.serviceCode,this.dataForm.serviceName=this.params.serviceName,0==this.params.apiLevel?(this.dataOpeTitle="修改模块",this.dataFormTitle.apiCode="模块编码",this.dataFormTitle.apiName="模块名称",this.disabled=!1):(this.dataOpeTitle="修改接口",this.dataFormTitle.apiCode="权限码",this.dataFormTitle.apiName="接口名称",this.disabled=!0)},dataGet:function(){var e=this;e.dataLoading=!0,e.dataForm.id=e.params.id,Ae({id:e.dataForm.id}).then((function(a){0==a.code?e.dataForm=a.data:e.$message({type:"error",message:"查询失败:"+a.msg}),e.dataLoading=!1})).catch((function(a){e.$message({type:"warning",message:"请求失败"}),e.dataLoading=!1}))},dataUpd:function(){var e=this,a=this;a.$refs["dataForm"].validate((function(t){if(!t)return!1;a.$confirm("您确认要"+a.dataOpeTitle+"信息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.dataLoading=!0,Me(a.dataForm).then((function(t){0==t.code?(a.$message({type:"success",message:a.dataOpeTitle+"信息成功!"}),a.visible=!1,e.$emit("finish")):a.$message({type:"error",message:t.errMsg}),a.dataLoading=!1})).catch((function(e){a.$message({type:"warning",message:"请求失败"}),a.dataLoading=!1}))})).catch((function(){a.$message({type:"info",message:"已取消修改"})}))}))}}},He=We,Ke=(t("a40eb"),Object(l["a"])(He,Ge,Je,!1,null,null,null)),Qe=Ke.exports,Xe={components:{ApiDialogAdd:Ee,ApiDialogUpd:Qe},data:function(){return{dataLoading:!1,dataLoadingText:"拼命加载中",pageDatas:[],apiMap:new Map,queryForm:{serviceCode:null,apiSource:null,apiType:1,apiLevel:0},queryItemForm:{serviceCode:null,apiType:1,apiLevel:1},serviceCodeList:[{serviceCode:null,serviceName:"--所属微服务--"}],apiSourceList:[{apiSource:null,apiSourceName:"--接口来源--"},{apiSource:1,apiSourceName:"物业"},{apiSource:2,apiSourceName:"设备"}]}},created:function(){var e=this;document.onkeydown=function(a){var t=window.event.keyCode;13==t&&e.dataList()},this.dataInit(),this.dataList()},methods:{dataInit:function(){var e=this;e.serviceCodeList=[{serviceCode:null,serviceName:"--所属微服务--"}],Pe({apiType:e.queryForm.apiType}).then((function(a){0==a.code?(e.serviceCodeList=e.serviceCodeList.concat(a.data.items),a.data.items&&a.data.items.length>0&&(e.queryForm.serviceCode=a.data.items[0].serviceCode)):console.error("查询失败",a.msg)})).catch((function(a){console.error("请求异常",a),e.dataLoading=!1}))},dataList:function(){var e=this;e.dataLoading=!0,e.apiMap.clear(),Ie(e.queryItemForm).then((function(a){0==a.code?(a.data.items.forEach((function(a){var t={id:a.id,parentId:a.parentId,parentName:a.parentName,serviceLabel:a.serviceName+" | "+a.serviceCode,serviceCode:a.serviceCode,serviceName:a.serviceName,apiModel:"  |--",apiLabel:a.apiName,apiName:a.apiName,apiCode:a.apiCode,apiPath:a.apiPath,apiLevel:a.apiLevel,apiSource:a.apiSource,apiType:a.apiType,authType:a.authType},r=[];e.apiMap.has(a.parentId)&&(r=e.apiMap.get(a.parentId)),r[r.length]=t,e.apiMap.set(a.parentId,r)})),e.dataItemList()):console.error("查询失败",a.msg)})).catch((function(a){console.error("请求异常",a),e.dataLoading=!1}))},dataItemList:function(){var e=this;Ie(e.queryForm).then((function(a){if(0==a.code){var t=[];a.data.items.forEach((function(a){var r=[];e.apiMap.has(a.id)&&(r=e.apiMap.get(a.id));var i={id:a.id,parentId:a.parentId,parentName:a.parentName,serviceLabel:a.serviceName+" | "+a.serviceCode,serviceCode:a.serviceCode,serviceName:a.serviceName,apiModel:a.apiName,apiLabel:"-",apiName:a.apiName,apiCode:a.apiCode,apiPath:a.apiPath,apiLevel:a.apiLevel,apiSource:a.apiSource,apiType:a.apiType,authType:a.authType,children:r};t[t.length]=i})),e.pageDatas=t,e.apiMap.clear()}else console.error("查询失败",a.msg);e.dataLoading=!1})).catch((function(a){console.error("请求异常",a),e.dataLoading=!1}))},query:function(){this.queryItemForm.serviceCode=this.queryForm.serviceCode,this.dataList()},addFinish:function(){this.dataInit(),this.dataList()},updFinish:function(){this.dataInit(),this.dataList()},dataDel:function(e){var a=this,t="此操作将永久删除该接口, 是否继续?";0==e.apiLevel&&(t="此操作将永久删除该模块及模块下接口, 是否继续?"),this.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Oe({id:e.id}).then((function(e){0==e.code?(a.$message({type:"success",message:"删除成功!"}),a.dataInit(),a.dataList()):a.$message({type:"success",message:e.msg})})).catch((function(e){console.error("请求异常",e)}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},refresh:function(){var e=this;e.$confirm("您确认刷新缓存?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.dataLoadingText="缓存刷新中",e.dataLoading=!0,ze().then((function(a){0==a.code?setTimeout((function(){e.dataLoading=!1,e.dataLoadingText="拼命加载中"}),3e3):(console.error("请求失败",a.errMsg),e.dataLoading=!1,e.dataLoadingText="拼命加载中")})).catch((function(a){console.error("请求异常",a),e.dataLoading=!1,e.dataLoadingText="拼命加载中"}))})).catch((function(){e.$message({type:"info",message:"已取消刷新缓存"}),e.dataLoadingText="拼命加载中"}))}}},Ye=Xe,Ze=Object(l["a"])(Ye,$e,qe,!1,null,null,null),ea=Ze.exports,aa=function(){var e=this,a=e._self._c;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.dataLoading,expression:"dataLoading"}],attrs:{"element-loading-text":e.dataLoadingText,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.6)"}},[a("el-row",[a("el-col",{staticClass:"toolbar",staticStyle:{"margin-bottom":"1.25rem","margin-top":"1.25rem"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,size:"mini",onsubmit:"return false"}},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"--所属微服务--"},on:{change:e.query},model:{value:e.queryForm.serviceCode,callback:function(a){e.$set(e.queryForm,"serviceCode",a)},expression:"queryForm.serviceCode"}},e._l(e.serviceCodeList,(function(e){return a("el-option",{key:e.serviceCode,attrs:{label:e.serviceName+(null!=e.serviceCode?" | "+e.serviceCode:""),value:e.serviceCode}})})),1)],1),a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"--接口来源--"},on:{change:e.query},model:{value:e.queryForm.apiSource,callback:function(a){e.$set(e.queryForm,"apiSource",a)},expression:"queryForm.apiSource"}},e._l(e.apiSourceList,(function(e){return a("el-option",{key:e.apiSource,attrs:{label:e.apiSourceName,value:e.apiSource}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"warning"},on:{click:function(a){return e.query()}}},[e._v("查询")])],1),a("el-form-item",[a("ApiDialogAdd",{attrs:{"api-type":2,"api-level":0,type:"primary"},on:{finish:e.addFinish}})],1),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:function(a){return e.refresh()}}},[e._v("刷新缓存")])],1)],1)],1)],1),a("el-row",[a("el-col",[a("span",{staticStyle:{"font-size":"0.8125rem"}},[e._v("环境说明：开发环境：dev-api, 测试环境：uat-api, 生产环境：prod-api")])])],1),a("el-row",[a("el-col",[a("span",{staticStyle:{"font-size":"0.8125rem"}},[e._v("接口方式：http(s)://domain/${环境}/opt-service/${微服务编码}/${接口Url}")])])],1),a("el-row",{staticStyle:{"margin-bottom":"1.25rem"}},[a("el-col",[a("span",{staticStyle:{"font-size":"0.8125rem"}},[e._v("接口样例：https://api.test.com/dev-api/opt-service/system/test/list")])])],1),a("el-table",{staticStyle:{width:"98%"},attrs:{data:e.pageDatas,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"apiModel",label:"接口模块","min-width":"160"}}),a("el-table-column",{attrs:{prop:"apiCode",label:"权限码","min-width":"180"}}),a("el-table-column",{attrs:{prop:"apiLabel",label:"接口名称","min-width":"160"}}),a("el-table-column",{attrs:{prop:"apiPath",label:"接口URL","min-width":"180"}}),a("el-table-column",{attrs:{label:"授权方式","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.apiLevel?a("div",[e._v("-")]):0===t.row.authType?a("div",[e._v("开放访问")]):1===t.row.authType?a("div",[e._v("登录即有")]):a("div",[e._v("授权即有")])]}}])}),a("el-table-column",{attrs:{prop:"serviceLabel",label:"微服务(名称|编码)","min-width":"160"}}),a("el-table-column",{attrs:{label:"接口来源","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.apiSource?a("div",[e._v("物业")]):2===t.row.apiSource?a("div",[e._v("设备")]):a("div",[e._v("-")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("ApiDialogUpd",{attrs:{params:t.row},on:{finish:e.updFinish}}),e._v("   "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.dataDel(t.row)}}},[a("span",{staticClass:"color-danger"},[e._v("删除")])]),e._v("   "),0==t.row.apiLevel?a("ApiDialogAdd",{attrs:{params:t.row,"api-type":2,"api-level":1,type:"text",size:"small"},on:{finish:e.addFinish}}):e._e()]}}])})],1),a("br"),a("br"),a("br")],1)},ta=[],ra={components:{ApiDialogAdd:Ee,ApiDialogUpd:Qe},data:function(){return{dataLoading:!1,dataLoadingText:"拼命加载中",pageDatas:[],apiMap:new Map,queryForm:{serviceCode:null,apiSource:null,apiType:2,apiLevel:0},queryItemForm:{serviceCode:null,apiType:2,apiLevel:1},serviceCodeList:[{serviceCode:null,serviceName:"--所属微服务--"}],apiSourceList:[{apiSource:null,apiSourceName:"--接口来源--"},{apiSource:1,apiSourceName:"物业"},{apiSource:2,apiSourceName:"设备"}]}},created:function(){var e=this;document.onkeydown=function(a){var t=window.event.keyCode;13==t&&e.dataList()},this.dataInit(),this.dataList()},methods:{dataInit:function(){var e=this;e.serviceCodeList=[{serviceCode:null,serviceName:"--所属微服务--"}],Pe({apiType:e.queryForm.apiType}).then((function(a){0==a.code?(e.serviceCodeList=e.serviceCodeList.concat(a.data.items),a.data.items&&a.data.items.length>0&&(e.queryForm.serviceCode=a.data.items[0].serviceCode)):console.error("查询失败",a.msg)})).catch((function(a){console.error("请求异常",a),e.dataLoading=!1}))},dataList:function(){var e=this;e.dataLoading=!0,e.apiMap.clear(),Ie(e.queryItemForm).then((function(a){0==a.code?(a.data.items.forEach((function(a){var t={id:a.id,parentId:a.parentId,parentName:a.parentName,serviceLabel:a.serviceName+" | "+a.serviceCode,serviceCode:a.serviceCode,serviceName:a.serviceName,apiModel:"  |--",apiLabel:a.apiName,apiName:a.apiName,apiCode:a.apiCode,apiPath:a.apiPath,apiLevel:a.apiLevel,apiSource:a.apiSource,apiType:a.apiType,authType:a.authType},r=[];e.apiMap.has(a.parentId)&&(r=e.apiMap.get(a.parentId)),r[r.length]=t,e.apiMap.set(a.parentId,r)})),e.dataItemList()):console.error("查询失败",a.msg)})).catch((function(a){console.error("请求异常",a),e.dataLoading=!1}))},dataItemList:function(){var e=this;Ie(e.queryForm).then((function(a){if(0==a.code){var t=[];a.data.items.forEach((function(a){var r=[];e.apiMap.has(a.id)&&(r=e.apiMap.get(a.id));var i={id:a.id,parentId:a.parentId,parentName:a.parentName,serviceLabel:a.serviceName+" | "+a.serviceCode,serviceCode:a.serviceCode,serviceName:a.serviceName,apiModel:a.apiName,apiLabel:"-",apiName:a.apiName,apiCode:a.apiCode,apiPath:a.apiPath,apiLevel:a.apiLevel,apiSource:a.apiSource,apiType:a.apiType,authType:a.authType,children:r};t[t.length]=i})),e.pageDatas=t,e.apiMap.clear()}else console.error("查询失败",a.msg);e.dataLoading=!1})).catch((function(a){console.error("请求异常",a),e.dataLoading=!1}))},query:function(){this.queryItemForm.serviceCode=this.queryForm.serviceCode,this.dataList()},addFinish:function(){this.dataInit(),this.dataList()},updFinish:function(){this.dataInit(),this.dataList()},dataDel:function(e){var a=this,t="此操作将永久删除该接口, 是否继续?";0==e.apiLevel&&(t="此操作将永久删除该模块及模块下接口, 是否继续?"),this.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Oe({id:e.id}).then((function(e){0==e.code?(a.$message({type:"success",message:"删除成功!"}),a.dataInit(),a.dataList()):a.$message({type:"success",message:e.msg})})).catch((function(e){console.error("请求异常",e)}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},refresh:function(){var e=this;e.$confirm("您确认刷新缓存?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.dataLoadingText="缓存刷新中",e.dataLoading=!0,ze().then((function(a){0==a.code?setTimeout((function(){e.dataLoading=!1,e.dataLoadingText="拼命加载中"}),3e3):(console.error("请求失败",a.errMsg),e.dataLoading=!1,e.dataLoadingText="拼命加载中")})).catch((function(a){console.error("请求异常",a),e.dataLoading=!1,e.dataLoadingText="拼命加载中"}))})).catch((function(){e.$message({type:"info",message:"已取消刷新缓存"}),e.dataLoadingText="拼命加载中"}))}}},ia=ra,oa=Object(l["a"])(ia,aa,ta,!1,null,null,null),na=oa.exports,sa=function(){var e=this,a=e._self._c;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.dataLoading,expression:"dataLoading"}],attrs:{"element-loading-text":e.dataLoadingText,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.6)"}},[a("el-row",[a("el-col",{staticClass:"toolbar",staticStyle:{"margin-bottom":"1.25rem","margin-top":"1.25rem"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,size:"mini",onsubmit:"return false"}},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"--所属微服务--"},on:{change:e.query},model:{value:e.queryForm.serviceCode,callback:function(a){e.$set(e.queryForm,"serviceCode",a)},expression:"queryForm.serviceCode"}},e._l(e.serviceCodeList,(function(e){return a("el-option",{key:e.serviceCode,attrs:{label:e.serviceName+(null!=e.serviceCode?" | "+e.serviceCode:""),value:e.serviceCode}})})),1)],1),a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"--接口来源--"},on:{change:e.query},model:{value:e.queryForm.apiSource,callback:function(a){e.$set(e.queryForm,"apiSource",a)},expression:"queryForm.apiSource"}},e._l(e.apiSourceList,(function(e){return a("el-option",{key:e.apiSource,attrs:{label:e.apiSourceName,value:e.apiSource}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"warning"},on:{click:function(a){return e.query()}}},[e._v("查询")])],1),a("el-form-item",[a("ApiDialogAdd",{attrs:{"api-type":3,"api-level":0,type:"primary"},on:{finish:e.addFinish}})],1),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:function(a){return e.refresh()}}},[e._v("刷新缓存")])],1)],1)],1)],1),a("el-row",[a("el-col",[a("span",{staticStyle:{"font-size":"0.8125rem"}},[e._v("环境说明：开发环境：dev-api, 测试环境：uat-api, 生产环境：prod-api")])])],1),a("el-row",[a("el-col",[a("span",{staticStyle:{"font-size":"0.8125rem"}},[e._v("接口方式：http(s)://domain/${环境}/cus-service/${微服务编码}/${接口Url}")])])],1),a("el-row",{staticStyle:{"margin-bottom":"1.25rem"}},[a("el-col",[a("span",{staticStyle:{"font-size":"0.8125rem"}},[e._v("接口样例：https://api.test.com/dev-api/cus-service/system/test/list")])])],1),a("el-table",{staticStyle:{width:"98%"},attrs:{data:e.pageDatas,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"apiModel",label:"接口模块","min-width":"160"}}),a("el-table-column",{attrs:{prop:"apiCode",label:"权限码","min-width":"180"}}),a("el-table-column",{attrs:{prop:"apiLabel",label:"接口名称","min-width":"160"}}),a("el-table-column",{attrs:{prop:"apiPath",label:"接口URL","min-width":"180"}}),a("el-table-column",{attrs:{label:"授权方式","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.apiLevel?a("div",[e._v("-")]):0===t.row.authType?a("div",[e._v("开放访问")]):1===t.row.authType?a("div",[e._v("登录即有")]):a("div",[e._v("授权即有")])]}}])}),a("el-table-column",{attrs:{prop:"serviceLabel",label:"微服务(名称|编码)","min-width":"160"}}),a("el-table-column",{attrs:{label:"接口来源","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.apiSource?a("div",[e._v("物业")]):2===t.row.apiSource?a("div",[e._v("设备")]):a("div",[e._v("-")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("ApiDialogUpd",{attrs:{params:t.row},on:{finish:e.updFinish}}),e._v("   "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.dataDel(t.row)}}},[a("span",{staticClass:"color-danger"},[e._v("删除")])]),e._v("   "),0==t.row.apiLevel?a("ApiDialogAdd",{attrs:{params:t.row,"api-type":3,"api-level":1,type:"text",size:"small"},on:{finish:e.addFinish}}):e._e()]}}])})],1),a("br"),a("br"),a("br")],1)},la=[],ca={components:{ApiDialogAdd:Ee,ApiDialogUpd:Qe},data:function(){return{dataLoading:!1,dataLoadingText:"拼命加载中",pageDatas:[],apiMap:new Map,queryForm:{serviceCode:null,apiSource:null,apiType:3,apiLevel:0},queryItemForm:{serviceCode:null,apiType:3,apiLevel:1},serviceCodeList:[{serviceCode:null,serviceName:"--所属微服务--"}],apiSourceList:[{apiSource:null,apiSourceName:"--接口来源--"},{apiSource:1,apiSourceName:"物业"},{apiSource:2,apiSourceName:"设备"}]}},created:function(){var e=this;document.onkeydown=function(a){var t=window.event.keyCode;13==t&&e.dataList()},this.dataInit(),this.dataList()},methods:{dataInit:function(){var e=this;e.serviceCodeList=[{serviceCode:null,serviceName:"--所属微服务--"}],Pe({apiType:e.queryForm.apiType}).then((function(a){0==a.code?(e.serviceCodeList=e.serviceCodeList.concat(a.data.items),a.data.items&&a.data.items.length>0&&(e.queryForm.serviceCode=a.data.items[0].serviceCode)):console.error("查询失败",a.msg)})).catch((function(a){console.error("请求异常",a),e.dataLoading=!1}))},dataList:function(){var e=this;e.dataLoading=!0,e.apiMap.clear(),Ie(e.queryItemForm).then((function(a){0==a.code?(a.data.items.forEach((function(a){var t={id:a.id,parentId:a.parentId,parentName:a.parentName,serviceLabel:a.serviceName+" | "+a.serviceCode,serviceCode:a.serviceCode,serviceName:a.serviceName,apiModel:"  |--",apiLabel:a.apiName,apiName:a.apiName,apiCode:a.apiCode,apiPath:a.apiPath,apiLevel:a.apiLevel,apiSource:a.apiSource,apiType:a.apiType,authType:a.authType},r=[];e.apiMap.has(a.parentId)&&(r=e.apiMap.get(a.parentId)),r[r.length]=t,e.apiMap.set(a.parentId,r)})),e.dataItemList()):console.error("查询失败",a.msg)})).catch((function(a){console.error("请求异常",a),e.dataLoading=!1}))},dataItemList:function(){var e=this;Ie(e.queryForm).then((function(a){if(0==a.code){var t=[];a.data.items.forEach((function(a){var r=[];e.apiMap.has(a.id)&&(r=e.apiMap.get(a.id));var i={id:a.id,parentId:a.parentId,parentName:a.parentName,serviceLabel:a.serviceName+" | "+a.serviceCode,serviceCode:a.serviceCode,serviceName:a.serviceName,apiModel:a.apiName,apiLabel:"-",apiName:a.apiName,apiCode:a.apiCode,apiPath:a.apiPath,apiLevel:a.apiLevel,apiSource:a.apiSource,apiType:a.apiType,authType:a.authType,children:r};t[t.length]=i})),e.pageDatas=t,e.apiMap.clear()}else console.error("查询失败",a.msg);e.dataLoading=!1})).catch((function(a){console.error("请求异常",a),e.dataLoading=!1}))},query:function(){this.queryItemForm.serviceCode=this.queryForm.serviceCode,this.dataList()},addFinish:function(){this.dataInit(),this.dataList()},updFinish:function(){this.dataInit(),this.dataList()},dataDel:function(e){var a=this,t="此操作将永久删除该接口, 是否继续?";0==e.apiLevel&&(t="此操作将永久删除该模块及模块下接口, 是否继续?"),this.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Oe({id:e.id}).then((function(e){0==e.code?(a.$message({type:"success",message:"删除成功!"}),a.dataInit(),a.dataList()):a.$message({type:"success",message:e.msg})})).catch((function(e){console.error("请求异常",e)}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},refresh:function(){var e=this;e.$confirm("您确认刷新缓存?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.dataLoadingText="缓存刷新中",e.dataLoading=!0,ze().then((function(a){0==a.code?setTimeout((function(){e.dataLoading=!1,e.dataLoadingText="拼命加载中"}),3e3):(console.error("请求失败",a.errMsg),e.dataLoading=!1,e.dataLoadingText="拼命加载中")})).catch((function(a){console.error("请求异常",a),e.dataLoading=!1,e.dataLoadingText="拼命加载中"}))})).catch((function(){e.$message({type:"info",message:"已取消刷新缓存"}),e.dataLoadingText="拼命加载中"}))}}},da=ca,ua=Object(l["a"])(da,sa,la,!1,null,null,null),pa=ua.exports,ma=function(){var e=this,a=e._self._c;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.dataLoading,expression:"dataLoading"}],attrs:{"element-loading-text":e.dataLoadingText,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.6)"}},[a("el-row",[a("el-col",{staticClass:"toolbar",staticStyle:{"margin-bottom":"1.25rem","margin-top":"1.25rem"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,size:"mini",onsubmit:"return false"}},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"--所属微服务--"},on:{change:e.query},model:{value:e.queryForm.serviceCode,callback:function(a){e.$set(e.queryForm,"serviceCode",a)},expression:"queryForm.serviceCode"}},e._l(e.serviceCodeList,(function(e){return a("el-option",{key:e.serviceCode,attrs:{label:e.serviceName+(null!=e.serviceCode?" | "+e.serviceCode:""),value:e.serviceCode}})})),1)],1),a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"--接口来源--"},on:{change:e.query},model:{value:e.queryForm.apiSource,callback:function(a){e.$set(e.queryForm,"apiSource",a)},expression:"queryForm.apiSource"}},e._l(e.apiSourceList,(function(e){return a("el-option",{key:e.apiSource,attrs:{label:e.apiSourceName,value:e.apiSource}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"warning"},on:{click:function(a){return e.query()}}},[e._v("查询")])],1),a("el-form-item",[a("ApiDialogAdd",{attrs:{"api-type":4,"api-level":0,type:"primary"},on:{finish:e.addFinish}})],1),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:function(a){return e.refresh()}}},[e._v("刷新缓存")])],1)],1)],1)],1),a("el-row",[a("el-col",[a("span",{staticStyle:{"font-size":"0.8125rem"}},[e._v("环境说明：开发环境：dev-api, 测试环境：uat-api, 生产环境：prod-api")])])],1),a("el-row",[a("el-col",[a("span",{staticStyle:{"font-size":"0.8125rem"}},[e._v("接口方式：http(s)://domain/${环境}/eip-service/${微服务编码}/${接口Url}")])])],1),a("el-row",{staticStyle:{"margin-bottom":"1.25rem"}},[a("el-col",[a("span",{staticStyle:{"font-size":"0.8125rem"}},[e._v("接口样例：https://api.test.com/dev-api/eip-service/system/test/list")])])],1),a("el-table",{staticStyle:{width:"98%"},attrs:{data:e.pageDatas,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"apiModel",label:"接口模块","min-width":"160"}}),a("el-table-column",{attrs:{prop:"apiCode",label:"权限码","min-width":"180"}}),a("el-table-column",{attrs:{prop:"apiLabel",label:"接口名称","min-width":"160"}}),a("el-table-column",{attrs:{prop:"apiPath",label:"接口URL","min-width":"180"}}),a("el-table-column",{attrs:{label:"授权方式","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.apiLevel?a("div",[e._v("-")]):0===t.row.authType?a("div",[e._v("开放访问")]):1===t.row.authType?a("div",[e._v("登录即有")]):a("div",[e._v("授权即有")])]}}])}),a("el-table-column",{attrs:{prop:"serviceLabel",label:"微服务(名称|编码)","min-width":"160"}}),a("el-table-column",{attrs:{label:"接口来源","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.apiSource?a("div",[e._v("物业")]):2===t.row.apiSource?a("div",[e._v("设备")]):a("div",[e._v("-")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("ApiDialogUpd",{attrs:{params:t.row},on:{finish:e.updFinish}}),e._v("   "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.dataDel(t.row)}}},[a("span",{staticClass:"color-danger"},[e._v("删除")])]),e._v("   "),0==t.row.apiLevel?a("ApiDialogAdd",{attrs:{params:t.row,"api-type":4,"api-level":1,type:"text",size:"small"},on:{finish:e.addFinish}}):e._e()]}}])})],1),a("br"),a("br"),a("br")],1)},ha=[],fa={components:{ApiDialogAdd:Ee,ApiDialogUpd:Qe},data:function(){return{dataLoading:!1,dataLoadingText:"拼命加载中",pageDatas:[],apiMap:new Map,queryForm:{serviceCode:null,apiSource:null,apiType:4,apiLevel:0},queryItemForm:{serviceCode:null,apiType:4,apiLevel:1},serviceCodeList:[{serviceCode:null,serviceName:"--所属微服务--"}],apiSourceList:[{apiSource:null,apiSourceName:"--接口来源--"},{apiSource:1,apiSourceName:"物业"},{apiSource:2,apiSourceName:"设备"}]}},created:function(){var e=this;document.onkeydown=function(a){var t=window.event.keyCode;13==t&&e.dataList()},this.dataInit(),this.dataList()},methods:{dataInit:function(){var e=this;e.serviceCodeList=[{serviceCode:null,serviceName:"--所属微服务--"}],Pe({apiType:e.queryForm.apiType}).then((function(a){0==a.code?(e.serviceCodeList=e.serviceCodeList.concat(a.data.items),a.data.items&&a.data.items.length>0&&(e.queryForm.serviceCode=a.data.items[0].serviceCode)):console.error("查询失败",a.msg)})).catch((function(a){console.error("请求异常",a),e.dataLoading=!1}))},dataList:function(){var e=this;e.dataLoading=!0,e.apiMap.clear(),Ie(e.queryItemForm).then((function(a){0==a.code?(a.data.items.forEach((function(a){var t={id:a.id,parentId:a.parentId,parentName:a.parentName,serviceLabel:a.serviceName+" | "+a.serviceCode,serviceCode:a.serviceCode,serviceName:a.serviceName,apiModel:"  |--",apiLabel:a.apiName,apiName:a.apiName,apiCode:a.apiCode,apiPath:a.apiPath,apiLevel:a.apiLevel,apiSource:a.apiSource,apiType:a.apiType,authType:a.authType},r=[];e.apiMap.has(a.parentId)&&(r=e.apiMap.get(a.parentId)),r[r.length]=t,e.apiMap.set(a.parentId,r)})),e.dataItemList()):console.error("查询失败",a.msg)})).catch((function(a){console.error("请求异常",a),e.dataLoading=!1}))},dataItemList:function(){var e=this;Ie(e.queryForm).then((function(a){if(0==a.code){var t=[];a.data.items.forEach((function(a){var r=[];e.apiMap.has(a.id)&&(r=e.apiMap.get(a.id));var i={id:a.id,parentId:a.parentId,parentName:a.parentName,serviceLabel:a.serviceName+" | "+a.serviceCode,serviceCode:a.serviceCode,serviceName:a.serviceName,apiModel:a.apiName,apiLabel:"-",apiName:a.apiName,apiCode:a.apiCode,apiPath:a.apiPath,apiLevel:a.apiLevel,apiSource:a.apiSource,apiType:a.apiType,authType:a.authType,children:r};t[t.length]=i})),e.pageDatas=t,e.apiMap.clear()}else console.error("查询失败",a.msg);e.dataLoading=!1})).catch((function(a){console.error("请求异常",a),e.dataLoading=!1}))},query:function(){this.queryItemForm.serviceCode=this.queryForm.serviceCode,this.dataList()},addFinish:function(){this.dataInit(),this.dataList()},updFinish:function(){this.dataInit(),this.dataList()},dataDel:function(e){var a=this,t="此操作将永久删除该接口, 是否继续?";0==e.apiLevel&&(t="此操作将永久删除该模块及模块下接口, 是否继续?"),this.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Oe({id:e.id}).then((function(e){0==e.code?(a.$message({type:"success",message:"删除成功!"}),a.dataInit(),a.dataList()):a.$message({type:"success",message:e.msg})})).catch((function(e){console.error("请求异常",e)}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},refresh:function(){var e=this;e.$confirm("您确认刷新缓存?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.dataLoadingText="缓存刷新中",e.dataLoading=!0,ze().then((function(a){0==a.code?setTimeout((function(){e.dataLoading=!1,e.dataLoadingText="拼命加载中"}),3e3):(console.error("请求失败",a.errMsg),e.dataLoading=!1,e.dataLoadingText="拼命加载中")})).catch((function(a){console.error("请求异常",a),e.dataLoading=!1,e.dataLoadingText="拼命加载中"}))})).catch((function(){e.$message({type:"info",message:"已取消刷新缓存"}),e.dataLoadingText="拼命加载中"}))}}},ga=fa,va=Object(l["a"])(ga,ma,ha,!1,null,null,null),ba=va.exports,ya=function(){var e=this,a=e._self._c;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.dataLoading,expression:"dataLoading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{"margin-top":"1.875rem"},attrs:{"element-loading-text":e.dataLoadingText,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.45)"}},[a("el-col",{attrs:{span:18}},[a("el-form",{attrs:{"label-width":"100px",size:"medium"}},[a("el-form-item",{attrs:{label:"系统名称"}},[a("el-button",{attrs:{type:"text"}},[a("span",{staticClass:"color-primary",on:{click:function(a){return e.loginNameUpdOpen()}}},[e._v("更改")])])],1),a("el-form-item",{attrs:{label:""}},[e._v(" "+e._s(e.updLoginNameForm.paramValue)+" ")]),a("el-form-item",{attrs:{label:"登录LOGO",prop:"fileId"}},[a("el-tooltip",{attrs:{placement:"top-start",effect:"light"},scopedSlots:e._u([{key:"content",fn:function(){return[a("span",{staticClass:"color-warning"},[e._v(" 1.上传图片格式必须为："+e._s(e.picAccept)),a("br"),a("br"),e._v(" 2.上传图片宽高比例为：1 : 1"),a("br"),a("br"),e._v(" 3.上传文件大小不能超过2MB! ")])]},proxy:!0}])},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"",name:"fileObj","show-file-list":!1,accept:e.picAccept,"http-request":e.uploadLoginPic}},[a("div",{staticClass:"upload-btn"},[a("span",{staticClass:"color-primary"},[e._v("更改")])])])],1)],1),a("el-form-item",{attrs:{label:""}},[a("el-image",{staticStyle:{width:"360px",height:"200px",border:"1px solid #E4E7ED"},attrs:{src:e.loginPicUrl,"preview-src-list":[e.loginPicUrl]}})],1),a("el-form-item",{attrs:{label:"内页名称"}},[a("el-button",{attrs:{type:"text"}},[a("span",{staticClass:"color-primary",on:{click:function(a){return e.nameUpdOpen()}}},[e._v("更改")])])],1),a("el-form-item",{attrs:{label:""}},[e._v(" "+e._s(e.updNameForm.paramValue)+" ")]),a("el-form-item",{attrs:{label:"内页LOGO",prop:"fileId"}},[a("el-tooltip",{attrs:{placement:"top-start",effect:"light"},scopedSlots:e._u([{key:"content",fn:function(){return[a("span",{staticClass:"color-warning"},[e._v(" 1.上传图片格式必须为："+e._s(e.picAccept)),a("br"),a("br"),e._v(" 2.上传图片宽高比例为：1 : 1"),a("br"),a("br"),e._v(" 2.上传文件大小不能超过2MB! ")])]},proxy:!0}])},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"",name:"fileObj","show-file-list":!1,accept:e.picAccept,"http-request":e.uploadPic}},[a("div",{staticClass:"upload-btn"},[a("span",{staticClass:"color-primary"},[e._v("更改")])])])],1)],1),a("el-form-item",{attrs:{label:""}},[a("el-image",{staticStyle:{width:"360px",height:"200px",border:"1px solid #E4E7ED"},attrs:{src:e.picUrl,"preview-src-list":[e.picUrl]}})],1),a("el-form-item",{attrs:{label:"版权信息"}},[a("el-button",{attrs:{type:"text"}},[a("span",{staticClass:"color-primary",on:{click:function(a){return e.rightUpdOpen()}}},[e._v("更改")])])],1),a("el-form-item",{attrs:{label:""}},[e._v(" "+e._s(e.updRightForm.paramValue)+" ")])],1)],1)],1)},La=[],Fa=function(e){return S.request({url:"file/upl",headers:{"Content-Type":"multipart/form-data",token:$cookies.get("jwt_token")},data:e,method:"post"})},wa={data:function(){return{baseUrl:"",picUrl:"",loginPicUrl:"",token:"",loginNameCode:"sys.mgt.login.name",loginLogoCode:"sys.mgt.login.logo",nameCode:"sys.mgt.name",logoCode:"sys.mgt.logo",rightCode:"sys.mgt.copyright",picAccept:".jpg,.jpeg,.png,.gif",busSubType:1801,updLoginNameForm:{id:"",paramCode:"",paramValue:"",paramName:"",remark:""},updLoginLogoForm:{id:"",paramCode:"",paramValue:"",paramName:"",remark:""},updNameForm:{id:"",paramCode:"",paramValue:"",paramName:"",remark:""},updLogoForm:{id:"",paramCode:"",paramValue:"",paramName:"",remark:""},updRightForm:{id:"",paramCode:"",paramValue:"",paramName:"",remark:""},dataLoading:!1,dataLoadingText:"拼命加载中"}},created:function(){this.token=$cookies.get("jwt_token"),this.baseUrl=N.baseUrl.pro+"/file/image?token="+this.token+"&fileId=",this.dataGetName(),this.dataGetLogo(),this.dataGetRight(),this.dataGetLoginName(),this.dataGetLoginLogo()},methods:{back:function(){this.$router.go(-1)},dataGetName:function(){var e=this;ce({paramCode:this.nameCode}).then((function(a){0==a.code?(e.updNameForm.id=a.data.id,e.updNameForm.paramCode=a.data.paramCode,e.updNameForm.paramValue=a.data.paramValue,e.updNameForm.paramName=a.data.paramName,e.updNameForm.remark=a.data.remark):console.error("查询失败",a.msg)})).catch((function(e){console.error("请求异常",e)}))},dataGetLogo:function(){var e=this;ce({paramCode:this.logoCode}).then((function(a){0==a.code?(e.updLogoForm.id=a.data.id,e.updLogoForm.paramCode=a.data.paramCode,e.updLogoForm.paramValue=a.data.paramValue,e.updLogoForm.paramName=a.data.paramName,e.updLogoForm.remark=a.data.remark,e.picUrl=e.baseUrl+a.data.paramValue):console.error("查询失败",a.msg)})).catch((function(e){console.error("请求异常",e)}))},dataGetLoginName:function(){var e=this;ce({paramCode:this.loginNameCode}).then((function(a){0==a.code?(e.updLoginNameForm.id=a.data.id,e.updLoginNameForm.paramCode=a.data.paramCode,e.updLoginNameForm.paramValue=a.data.paramValue,e.updLoginNameForm.paramName=a.data.paramName,e.updLoginNameForm.remark=a.data.remark):console.error("查询失败",a.msg)})).catch((function(e){console.error("请求异常",e)}))},dataGetLoginLogo:function(){var e=this;ce({paramCode:this.loginLogoCode}).then((function(a){0==a.code?(e.updLoginLogoForm.id=a.data.id,e.updLoginLogoForm.paramCode=a.data.paramCode,e.updLoginLogoForm.paramValue=a.data.paramValue,e.updLoginLogoForm.paramName=a.data.paramName,e.updLoginLogoForm.remark=a.data.remark,e.loginPicUrl=e.baseUrl+a.data.paramValue):console.error("查询失败",a.msg)})).catch((function(e){console.error("请求异常",e)}))},dataGetRight:function(){var e=this;ce({paramCode:this.rightCode}).then((function(a){0==a.code?(e.updRightForm.id=a.data.id,e.updRightForm.paramCode=a.data.paramCode,e.updRightForm.paramValue=a.data.paramValue,e.updRightForm.paramName=a.data.paramName,e.updRightForm.remark=a.data.remark):console.error("查询失败",a.msg)})).catch((function(e){console.error("请求异常",e)}))},uploadPic:function(e){var a=this,t=e.file.name.lastIndexOf("."),r=e.file.name.substr(t+1).toLowerCase(),i=-1!=a.picAccept.indexOf(r),o=e.file.size/1024/1024>2;if(i)if(o)a.$message.error("上传文件大小不能超过2MB!");else{var n=e.file,s=new FormData;s.append("busSubType",a.busSubType),s.append("file",n,n.name),a.dataLoadingText="文件上传中",a.dataLoading||(a.dataLoading=!0),Fa(s).then((function(e){a.dataLoading=!1,a.dataLoadingText="拼命加载中",0==e.code?(a.updLogoForm.paramValue=e.data.fileId,a.picUrl=a.baseUrl+e.data.fileId,a.dataLogoUpd()):a.$message({type:"error",message:"Logo更改失败："+e.msg})})).catch((function(e){a.dataLoading=!1,a.dataLoadingText="拼命加载中",a.$message({type:"error",message:"文件上传失败!"})}))}else a.$message.error("上传文件格式必须为："+a.picAccept)},uploadLoginPic:function(e){var a=this,t=e.file.name.lastIndexOf("."),r=e.file.name.substr(t+1).toLowerCase(),i=-1!=a.picAccept.indexOf(r),o=e.file.size/1024/1024>2;if(i)if(o)a.$message.error("上传文件大小不能超过2MB!");else{var n=e.file,s=new FormData;s.append("busSubType",a.busSubType),s.append("file",n,n.name),a.dataLoadingText="文件上传中",a.dataLoading||(a.dataLoading=!0),Fa(s).then((function(e){a.dataLoading=!1,a.dataLoadingText="拼命加载中",0==e.code?(a.updLoginLogoForm.paramValue=e.data.fileId,a.loginPicUrl=a.baseUrl+e.data.fileId,a.dataLoginLogoUpd()):a.$message({type:"error",message:"Logo更改失败："+e.msg})})).catch((function(e){a.dataLoading=!1,a.dataLoadingText="拼命加载中",a.$message({type:"error",message:"文件上传失败!"})}))}else a.$message.error("上传文件格式必须为："+a.picAccept)},nameUpdOpen:function(){var e=this;e.$prompt("请输入内页系统名称","内页名称更改",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:e.updNameForm.paramValue,inputValidator:function(e){return!(!e||0==e.replace(/(^\s*)|(\s*$)/g,"").length)},inputPlaceholder:"请输入内页系统名称",inputErrorMessage:"请输入内页系统名称"}).then((function(a){var t=a.value,r=e.updNameForm.paramValue;e.updNameForm.paramValue=t,ue(e.updNameForm).then((function(a){0==a.code?e.$message({type:"success",message:"内页系统名称更改成功!"}):(e.$message({type:"error",message:a.msg}),e.updNameForm.paramValue=r)})).catch((function(a){e.$message({type:"error",message:"请求失败"}),e.updNameForm.paramValue=r}))})).catch((function(){e.$message({type:"info",message:"内页系统名称修改已取消"})}))},loginNameUpdOpen:function(){var e=this;e.$prompt("请输入登录页名称","登录页名称更改",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:e.updLoginNameForm.paramValue,inputValidator:function(e){return!(!e||0==e.replace(/(^\s*)|(\s*$)/g,"").length)},inputPlaceholder:"请输入登录页名称",inputErrorMessage:"请输入登录页名称"}).then((function(a){var t=a.value,r=e.updLoginNameForm.paramValue;e.updLoginNameForm.paramValue=t,ue(e.updLoginNameForm).then((function(a){0==a.code?e.$message({type:"success",message:"登录页名称更改成功!"}):(e.$message({type:"error",message:a.msg}),e.updLoginNameForm.paramValue=r)})).catch((function(a){e.$message({type:"error",message:"请求失败"}),e.updLoginNameForm.paramValue=r}))})).catch((function(){e.$message({type:"info",message:"登录页名称修改已取消"})}))},rightUpdOpen:function(){var e=this;e.$prompt("请输入版权信息","版权信息更改",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:e.updRightForm.paramValue,inputValidator:function(e){return!(!e||0==e.replace(/(^\s*)|(\s*$)/g,"").length)},inputPlaceholder:"请输入版权信息",inputErrorMessage:"请输入版权信息"}).then((function(a){var t=a.value,r=e.updRightForm.paramValue;e.updRightForm.paramValue=t,ue(e.updRightForm).then((function(a){0==a.code?e.$message({type:"success",message:"版权信息更改成功!"}):(e.$message({type:"error",message:a.msg}),e.updRightForm.paramValue=r)})).catch((function(a){e.$message({type:"error",message:"请求失败"}),e.updRightForm.paramValue=r}))})).catch((function(){e.$message({type:"info",message:"版权信息修改已取消"})}))},dataLogoUpd:function(){var e=this;ue(this.updLogoForm).then((function(a){0==a.code?e.$message({type:"success",message:"LOGO更换成功!"}):e.$message({type:"error",message:a.msg})})).catch((function(e){console.error("请求异常",e)}))},dataLoginLogoUpd:function(){var e=this;ue(this.updLoginLogoForm).then((function(a){0==a.code?e.$message({type:"success",message:"LOGO更换成功!"}):e.$message({type:"error",message:a.msg})})).catch((function(e){console.error("请求异常",e)}))}}},Ca=wa,xa=Object(l["a"])(Ca,ya,La,!1,null,null,null),_a=xa.exports,Na=[{path:"/login",name:"login",component:z,meta:{title:"管理员操作平台登录",requiresAuth:!1}},{path:"/",redirect:"/home"},{path:"/",component:G,meta:{requiresAuth:!0,title:"管理员操作平台"},children:[{path:"/home",name:"home",component:X,meta:{requiresAuth:!0,ptitle:"首页",title:"首页详情",menu:"adm_0_1"}},{path:"/pwdupd",name:"pwdupd",component:ie,meta:{requiresAuth:!0,ptitle:"个人中心",title:"密码修改",menu:"adm_1_2"}}]},{path:"/",component:G,meta:{requiresAuth:!0,title:"管理员操作平台"},children:[{path:"/param/list",name:"paramList",component:ve,meta:{requiresAuth:!0,ptitle:"系统参数",title:"参数列表",menu:"adm_3_1"}},{path:"/param/add",name:"paramAdd",component:Ce,meta:{requiresAuth:!0,ptitle:"系统参数",title:"参数新增",menu:"adm_3_1"}},{path:"/param/upd",name:"paramUpd",component:Se,meta:{requiresAuth:!0,ptitle:"系统参数",title:"参数修改",menu:"adm_3_1"}}]},{path:"/",component:G,meta:{requiresAuth:!0,title:"管理员操作平台"},children:[{path:"/apiAdm/list",name:"apiAdmList",component:ea,meta:{requiresAuth:!0,ptitle:"管理端接口",title:"接口列表",menu:"adm_3_3"}},{path:"/apiOpt/list",name:"apiOptList",component:na,meta:{requiresAuth:!0,ptitle:"运营端接口",title:"接口列表",menu:"adm_3_4"}},{path:"/apiCus/list",name:"apiCusList",component:pa,meta:{requiresAuth:!0,ptitle:"用户端接口",title:"接口列表",menu:"adm_3_5"}},{path:"/apiEip/list",name:"apiEipList",component:ba,meta:{requiresAuth:!0,ptitle:"门户端接口",title:"接口列表",menu:"adm_3_6"}}]},{path:"/",component:G,meta:{requiresAuth:!0,title:"管理员操作平台"},children:[{path:"/sysInfo/list",name:"sysInfoList",component:_a,meta:{requiresAuth:!0,ptitle:"系统信息",title:"信息详情",menu:"adm_3_2"}}]}],ka=t("e762");r["default"].use(u["a"]);var Ta=new u["a"]({routes:Na,mode:"history",base:"/config/",scrollBehavior:function(e,a,t){return t||{x:0,y:0}}});Ta.beforeEach((function(e,a,t){if(e.meta.requiresAuth){var r=$cookies.get("jwt_token");if(r){try{var i=Number.parseInt((new Date).getTime()/1e3),o=ka["a"].decode(r.split(".")[1]),n=JSON.parse(o);i>=n.exp&&t({replace:!0,name:"login"}),document.title=N.title}catch(s){t({replace:!0,name:"login"})}t()}else t({replace:!0,name:"login"})}else document.title=N.title,t()}));var Sa=Ta,$a=t("2b27"),qa=t.n($a);t("0fae"),t("aede");r["default"].config.productionTip=!1,r["default"].use(qa.a),r["default"].use(C.a),new r["default"]({router:Sa,render:function(e){return e(d)}}).$mount("#app")},9326:function(e,a,t){},a40eb:function(e,a,t){"use strict";t("4401")},aede:function(e,a,t){},ba6c:function(e,a,t){"use strict";t("9326")},e3cc:function(e,a,t){"use strict";t("3e52")},fca1:function(e,a,t){"use strict";t("2c0a")}});